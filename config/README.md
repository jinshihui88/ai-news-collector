# é…ç½®æ–‡ä»¶è¯´æ˜

è¿™ä¸ªç›®å½•åŒ…å«é¡¹ç›®çš„å„ç§é…ç½®æ–‡ä»¶ã€‚

## ğŸ“ æ–‡ä»¶åˆ—è¡¨

### filter-rules-*.json
LLM æ™ºèƒ½è¿‡æ»¤è§„åˆ™é…ç½®(æŒ‰æ•°æ®æºåˆ†ç±»)ã€‚

**æ–‡ä»¶åˆ—è¡¨**:
- `filter-rules-aibase.json` - AIBase æ•°æ®æºè¿‡æ»¤è§„åˆ™
- `filter-rules-zsxq.json` - çŸ¥è¯†æ˜Ÿçƒæ•°æ®æºè¿‡æ»¤è§„åˆ™
- `filter-rules-wechat-mp.json` - å¾®ä¿¡å…¬ä¼—å·æ•°æ®æºè¿‡æ»¤è§„åˆ™
- `filter-rules-twitter.json` - Twitter æ•°æ®æºè¿‡æ»¤è§„åˆ™ (éœ€ç»“åˆ Composio ç¯å¢ƒå˜é‡å¯ç”¨)

**ç”¨é€”**: ä¸ºæ¯ä¸ªæ•°æ®æºå®šä¹‰ç‹¬ç«‹çš„æ­£åé¢æ ·ä¾‹,å¸®åŠ© LLM ç­›é€‰é«˜è´¨é‡æ–°é—»ã€‚

**é…ç½®æ ¼å¼**:
```json
{
  "positiveExamples": [
    {
      "title": "ä½ æƒ³çœ‹åˆ°çš„æ–°é—»ç±»å‹",
      "summary": "æ–°é—»æ‘˜è¦(100-200å­—ç¬¦)",
      "reason": "ä¸ºä»€ä¹ˆå–œæ¬¢è¿™ç±»æ–°é—»"
    }
  ],
  "negativeExamples": [
    {
      "title": "ä½ ä¸æƒ³çœ‹åˆ°çš„æ–°é—»ç±»å‹",
      "summary": "æ–°é—»æ‘˜è¦(100-200å­—ç¬¦)",
      "reason": "ä¸ºä»€ä¹ˆä¸å–œæ¬¢è¿™ç±»æ–°é—»"
    }
  ],
  "thresholdConfig": {
    "minPercentage": 10,
    "maxPercentage": 30,
    "preferredCount": 15
  }
}
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|
| `positiveExamples` | âœ… æ˜¯ | æ­£é¢æ ·ä¾‹æ•°ç»„(è‡³å°‘ 1 ä¸ª) |
| `negativeExamples` | âœ… æ˜¯ | åé¢æ ·ä¾‹æ•°ç»„(è‡³å°‘ 1 ä¸ª) |
| `thresholdConfig` | âŒ å¦ | è¿‡æ»¤é˜ˆå€¼é…ç½® |

**æ ·ä¾‹è¦æ±‚**:
- `title`: å¿…å¡«,1-200 å­—ç¬¦
- `summary`: å¿…å¡«,**ä¸¥æ ¼è¦æ±‚ 100-200 å­—ç¬¦**
- `reason`: å¯é€‰,è¯´æ˜å–œæ¬¢/ä¸å–œæ¬¢çš„åŸå› 

**é˜ˆå€¼é…ç½®**:
- `minPercentage`: æœ€å°‘ä¿ç•™ç™¾åˆ†æ¯”(é»˜è®¤ 10%)
- `maxPercentage`: æœ€å¤šä¿ç•™ç™¾åˆ†æ¯”(é»˜è®¤ 30%)
- `preferredCount`: æœŸæœ›ä¿ç•™æ•°é‡(é»˜è®¤ 15 æ¡)

---

### collection-window.json
å…¨å±€é‡‡é›†æ—¶é—´çª—å£é…ç½®ã€‚

**ç”¨é€”**: ç»Ÿä¸€æ§åˆ¶æ‰€æœ‰æ•°æ®æºä»…ä¿ç•™æœ€è¿‘ N å¤©çš„å†…å®¹ã€‚

**é…ç½®ç¤ºä¾‹**:
```json
{
  "recentDays": 7
}
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|
| `recentDays` | âœ… æ˜¯ | é‡‡é›†æœ€è¿‘å¤šå°‘å¤©çš„å†…å®¹,å¿…é¡»æ˜¯å¤§äº 0 çš„æ•´æ•°(å»ºè®® 1-30) |

> æç¤º: å¦‚æœç¼ºå°‘è¯¥æ–‡ä»¶æˆ–é…ç½®æ— æ•ˆ,ç¨‹åºä¼šè‡ªåŠ¨å›é€€åˆ°é»˜è®¤çš„ 7 å¤©,å¹¶åœ¨æ—¥å¿—ä¸­ç»™å‡ºæç¤ºã€‚

---

### wechat-accounts.json
å¾®ä¿¡å…¬ä¼—å·é…ç½®æ–‡ä»¶ã€‚

**ç”¨é€”**: é…ç½®è¦é‡‡é›†çš„å¾®ä¿¡å…¬ä¼—å·åˆ—è¡¨ã€‚

**åˆ›å»ºæ–¹æ³•**:
```bash
cp wechat-accounts.example.json wechat-accounts.json
vim wechat-accounts.json
```

**é…ç½®æ ¼å¼**:
```json
[
  {
    "fakeid": "MzI1NjIyMTAwMA==",
    "nickname": "AIç§‘æŠ€è¯„è®º",
    "description": "å¯é€‰çš„æè¿°ä¿¡æ¯"
  },
  {
    "fakeid": "MzUxOTU3NjE4MA==",
    "nickname": "é‡å­ä½",
    "description": "å¦ä¸€ä¸ªå…¬ä¼—å·"
  }
]
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|
| `fakeid` | âœ… æ˜¯ | å…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†ç¬¦ |
| `nickname` | âœ… æ˜¯ | å…¬ä¼—å·åç§° |
| `description` | âŒ å¦ | å¤‡æ³¨è¯´æ˜ |

**å¦‚ä½•è·å– Fakeid**:

1. **ç™»å½•å…¬ä¼—å·åå°**: https://mp.weixin.qq.com/

2. **è¿›å…¥ç´ æç®¡ç†**:
   - å·¦ä¾§èœå• â†’ ç´ æç®¡ç†
   - ç‚¹å‡»"æ–°å»ºå›¾æ–‡æ¶ˆæ¯"

3. **æœç´¢ç›®æ ‡å…¬ä¼—å·**:
   - åœ¨ç¼–è¾‘å™¨ä¸­ç‚¹å‡»"è¶…é“¾æ¥"æŒ‰é’®
   - é€‰æ‹©"æ–‡ç« é“¾æ¥"
   - åœ¨æœç´¢æ¡†è¾“å…¥ç›®æ ‡å…¬ä¼—å·åç§°

4. **è·å– Fakeid**:
   - æŒ‰ `F12` æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ° Network æ ‡ç­¾
   - åœ¨æœç´¢ç»“æœä¸­æŸ¥æ‰¾è¯·æ±‚
   - ä»è¯·æ±‚ URL ä¸­æ‰¾åˆ° `fakeid` å‚æ•°
   - å¤åˆ¶ fakeid å€¼

**ç¤ºä¾‹ URL**:
```
https://mp.weixin.qq.com/cgi-bin/searchbiz?
  action=search_biz
  &token=xxx
  &lang=zh_CN
  &f=json
  &ajax=1
  &query=é‡å­ä½
  &fakeid=MzUxOTU3NjE4MA==    â† è¿™å°±æ˜¯ fakeid
```

**å¸¸è§é—®é¢˜**:

Q: æ‰¾ä¸åˆ° fakeid æ€ä¹ˆåŠ?
A: ç¡®ä¿:
- å·²ç»åœ¨æœç´¢æ¡†ä¸­è¾“å…¥äº†å…¬ä¼—å·åç§°
- DevTools çš„ Network æ ‡ç­¾å·²æ‰“å¼€
- æŸ¥çœ‹ URL å‚æ•°æˆ–å“åº”å†…å®¹ä¸­çš„ fakeid å­—æ®µ

Q: å¯ä»¥æ·»åŠ å¤šå°‘ä¸ªå…¬ä¼—å·?
A: æŠ€æœ¯ä¸Šæ— é™åˆ¶,ä½†å»ºè®®ä¸è¶…è¿‡ 10 ä¸ª,é¿å…é‡‡é›†æ—¶é—´è¿‡é•¿ã€‚

Q: å¦‚ä½•ä¸´æ—¶ç¦ç”¨æŸä¸ªå…¬ä¼—å·?
A: ç›´æ¥ä»é…ç½®æ–‡ä»¶ä¸­åˆ é™¤æˆ–æ³¨é‡Šæ‰è¯¥å…¬ä¼—å·å³å¯ã€‚

---

### wechat-accounts.example.json
å¾®ä¿¡å…¬ä¼—å·é…ç½®ç¤ºä¾‹æ–‡ä»¶ã€‚

**ç”¨é€”**: æä¾›é…ç½®æ¨¡æ¿,æ–¹ä¾¿å¿«é€Ÿå¼€å§‹ã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å¤åˆ¶ä¸ºæ­£å¼é…ç½®æ–‡ä»¶
cp wechat-accounts.example.json wechat-accounts.json

# ç„¶åç¼–è¾‘ wechat-accounts.json,æ›¿æ¢ä¸ºå®é™…çš„å…¬ä¼—å·ä¿¡æ¯
```

---

### zsxq-groups.json
çŸ¥è¯†æ˜Ÿçƒåˆ†ç»„é…ç½®æ–‡ä»¶ã€‚

**ç”¨é€”**: é…ç½®éœ€è¦é‡‡é›†çš„æ˜Ÿçƒåˆ—è¡¨åŠè¯é¢˜(hashtags)ã€‚

**é…ç½®æ ¼å¼**:
```json
[
  {
    "groupId": "15552545485212",
    "groupName": "AIé£å‘æ ‡",
    "hashtags": [
      { "id": "15555541155522", "name": "AIé£å‘æ ‡" },
      { "id": "15555541155523", "name": "ä¸­æ ‡" }
    ]
  }
]
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|
| `groupId` | âœ… æ˜¯ | æ˜Ÿçƒçš„å”¯ä¸€æ ‡è¯†ç¬¦(ä»æ˜Ÿçƒè¯¦æƒ…é¡µ URL è·å–) |
| `groupName` | âœ… æ˜¯ | æ˜Ÿçƒåç§°,ç”¨äºæ—¥å¿—è¾“å‡º |
| `hashtags` | âœ… æ˜¯ | éœ€è¦é‡‡é›†çš„è¯é¢˜æ•°ç»„,æ¯é¡¹å¯å¡«å†™ `{ id, name }` æˆ–ç›´æ¥å†™è¯é¢˜ ID å­—ç¬¦ä¸² |

> â„¹ï¸ æ¥å£å•æ¬¡è¿”å›æ•°é‡ä¸Šé™ä¸º 20 æ¡,ç¨‹åºä¼šåœ¨åå°æ ¹æ® `maxItems` è‡ªåŠ¨æ‹†åˆ†è¯·æ±‚

**è·å–è¯é¢˜ ID**:
1. ç™»å½•ç½‘é¡µç‰ˆçŸ¥è¯†æ˜Ÿçƒ(https://wx.zsxq.com) å¹¶æ‰“å¼€ç›®æ ‡è¯é¢˜
2. è§‚å¯Ÿåœ°å€æ ,æ ¼å¼ç±»ä¼¼ `https://wx.zsxq.com/dweb2/index/hashtags/15555541155522`
3. `hashtags/` åçš„æ•°å­—å³ä¸ºè¯é¢˜ ID,å°†å…¶å¡«å…¥ `id` å­—æ®µå³å¯

---

### twitter-accounts.json
Twitter æ¨ä¸»åŠæœç´¢é…ç½®æ–‡ä»¶ã€‚

**ç”¨é€”**: é…ç½®éœ€è¦å…³æ³¨çš„æ¨ç‰¹è´¦å·,å¹¶å®šä¹‰é»˜è®¤çš„æœç´¢è¡Œä¸ºã€‚

**ç»“æ„**:
```json
{
  "config": {
    "sinceHours": 168,
    "maxResultsPerPage": 100,
    "defaultLanguages": ["en", "zh"],
    "defaultQuerySuffix": "-is:retweet",
    "maxItemsPerAccount": 10,
    "maxItemsPerKeyword": 10
  },
  "keywords": ["AI", "Artificial Intelligence"],
  "accounts": [
    {
      "handle": "AnthropicAI",
      "displayName": "Anthropic",
      "description": "AI å®‰å…¨ç ”ç©¶å›¢é˜Ÿ",
      "query": "from:AnthropicAI -is:retweet",
      "languages": ["en"],
      "tags": ["å…¬å¸", "ç ”ç©¶"],
      "enabled": true
    }
  ]
}
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|
| `config.sinceHours` | âŒ å¦ | å‘åå…¼å®¹å­—æ®µ,å·²ç”± `collection-window.json` å†³å®šæ—¶é—´çª—å£ |
| `config.maxResultsPerPage` | âŒ å¦ | å•æ¬¡è¯·æ±‚çš„ `max_results`,èŒƒå›´ 10-100,é»˜è®¤ 100 |
| `config.defaultLanguages` | âŒ å¦ | é»˜è®¤è¯­è¨€è¿‡æ»¤,å¯¹åº” Twitter `lang:` è¯­æ³• |
| `config.defaultQuerySuffix` | âŒ å¦ | è‡ªåŠ¨æ‹¼æ¥åœ¨ `from:<handle>` åçš„æŸ¥è¯¢ç‰‡æ®µ |
| `config.maxItemsPerAccount` | âŒ å¦ | å•ä¸ªæ¨ä¸»å…è®¸è¿”å›çš„æœ€å¤§æ¡æ•°,é»˜è®¤ 10 |
| `config.maxItemsPerKeyword` | âŒ å¦ | å•ä¸ªå…³é”®è¯å…è®¸è¿”å›çš„æœ€å¤§æ¡æ•°,é»˜è®¤ 10 |
| `keywords` | âŒ å¦ | å½“æœªé…ç½®æ¨ä¸»æˆ–æ¨ä¸»ç¦ç”¨æ—¶çš„å›é€€å…³é”®è¯é›†åˆ |
| `accounts[].handle` | âœ… æ˜¯ | æ¨ä¸»ç”¨æˆ·å(ä¸å¸¦ `@`) |
| `accounts[].displayName` | âœ… æ˜¯ | æ¨ä¸»æ˜¾ç¤ºåç§°,ç”¨äºæŠ¥å‘Šå±•ç¤º |
| `accounts[].description` | âŒ å¦ | å¤‡æ³¨/è¯´æ˜ |
| `accounts[].query` | âŒ å¦ | è‡ªå®šä¹‰æŸ¥è¯¢è¯­å¥,è¦†ç›–é»˜è®¤ `from:<handle>` |
| `accounts[].languages` | âŒ å¦ | é’ˆå¯¹æ¨ä¸»çš„è¯­è¨€è¿‡æ»¤ |
| `accounts[].tags` | âŒ å¦ | è‡ªå®šä¹‰æ ‡ç­¾,ç”¨äºåœ¨æŠ¥å‘Šä¸­æ‰©å±• metadata |
| `accounts[].enabled` | âŒ å¦ | æ˜¯å¦å¯ç”¨è¯¥æ¨ä¸»,é»˜è®¤ true |

**ä½¿ç”¨å»ºè®®**:
- å¦‚æœä»…å…³æ³¨å°‘é‡æ¨ä¸»,ä¿æŒ `keywords` æ•°ç»„ä¸ºç©ºå³å¯
- è‹¥éœ€è¦æ··åˆå…³æ³¨æ¨ä¸»ä¸å…³é”®è¯,å¯åŒæ—¶é…ç½® `accounts` ä¸ `keywords`
- é»˜è®¤æ¯ä¸ªæ¨ä¸»/å…³é”®è¯æœ€å¤šä¿ç•™ 10 æ¡æ¨æ–‡,å¯æŒ‰éœ€æé«˜ `maxItemsPerAccount` æˆ– `maxItemsPerKeyword`
- å¯è¿è¡Œ `npm run composio:connection` å¿«é€ŸæŸ¥çœ‹ `user_id` ç­‰è¿æ¥ä¿¡æ¯

---

## ğŸ”’ å®‰å…¨æé†’

- âš ï¸ æ‰€æœ‰ `*.json` é…ç½®æ–‡ä»¶éƒ½ä¸åº”æäº¤åˆ° Git (å·²åœ¨ `.gitignore` ä¸­é…ç½®)
- âš ï¸ Fakeid æ˜¯å…¬å¼€ä¿¡æ¯,å¯ä»¥å®‰å…¨åˆ†äº«
- âš ï¸ ä½†ä¸è¦å°†ä½ çš„ token å’Œ cookie åˆ†äº«ç»™ä»–äºº

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¦‚ä½•è·å–å¾®ä¿¡ Token å’Œ Cookie](../docs/how-to-get-wechat-token.md)
- [é¡¹ç›® README](../README.md)
